<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="/quantumjs/resources/quantum-docs.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-html.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-code-highlight.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-api.css"></link><link rel="stylesheet" href="/quantumjs/resources/custom-language.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-api-quantum.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-api-css.css"></link><link rel="stylesheet" href="/quantumjs/resources/quantum-api-javascript.css"></link><link href="https://fonts.googleapis.com/css?family=Open+Sans:100,400,700|Roboto+Slab:300,400,700|Source+Code+Pro:200,400,700" rel="stylesheet"></link><link href="/quantumjs/resources/quantum-site.css" rel="stylesheet"></link><link rel="apple-touch-icon" sizes="57x57" href="/quantumjs/resources/favicons/apple-touch-icon-57x57.png"></link><link rel="apple-touch-icon" sizes="60x60" href="/quantumjs/resources/favicons/apple-touch-icon-60x60.png"></link><link rel="apple-touch-icon" sizes="72x72" href="/quantumjs/resources/favicons/apple-touch-icon-72x72.png"></link><link rel="apple-touch-icon" sizes="76x76" href="/quantumjs/resources/favicons/apple-touch-icon-76x76.png"></link><link rel="apple-touch-icon" sizes="114x114" href="/quantumjs/resources/favicons/apple-touch-icon-114x114.png"></link><link rel="apple-touch-icon" sizes="120x120" href="/quantumjs/resources/favicons/apple-touch-icon-120x120.png"></link><link rel="apple-touch-icon" sizes="144x144" href="/quantumjs/resources/favicons/apple-touch-icon-144x144.png"></link><link rel="apple-touch-icon" sizes="152x152" href="/quantumjs/resources/favicons/apple-touch-icon-152x152.png"></link><link rel="apple-touch-icon" sizes="180x180" href="/quantumjs/resources/favicons/apple-touch-icon-180x180.png"></link><meta name="apple-mobile-web-app-capable" content="yes"></meta><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta><meta name="apple-mobile-web-app-title" content="Quantum JS"></meta><link rel="manifest" href="/quantumjs/resources/favicons/manifest.json"></link><meta name="mobile-web-app-capable" content="yes"></meta><meta name="theme-color" content="#fff"></meta><meta name="application-name" content="Quantum JS"></meta><link rel="icon type=image/png" sizes="228x228" href="/quantumjs/resources/favicons/coast-228x228.png"></link><link rel="yandex-tableau-widget" href="/quantumjs/resources/favicons/yandex-browser-manifest.json"></link><meta name="msapplication-TileColor" content="#fff"></meta><meta name="msapplication-TileImage" content="/mstile-144x144.png"></meta><link rel="icon type=image/png" sizes="32x32" href="/quantumjs/resources/favicons/favicon-32x32.png"></link><link rel="icon type=image/png" sizes="192x192" href="/quantumjs/resources/favicons/android-chrome-192x192.png"></link><link rel="icon type=image/png" sizes="16x16" href="/quantumjs/resources/favicons/favicon-16x16.png"></link><link rel="shortcut icon" href="/quantumjs/resources/favicons/favicon.ico"></link><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/quantumjs/resources/favicons/apple-touch-startup-image-320x460.png"></link><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/quantumjs/resources/favicons/apple-touch-startup-image-640x920.png"></link><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/quantumjs/resources/favicons/apple-touch-startup-image-640x1096.png"></link><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/quantumjs/resources/favicons/apple-touch-startup-image-750x1294.png"></link><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/quantumjs/resources/favicons/apple-touch-startup-image-1182x2208.png"></link><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/quantumjs/resources/favicons/apple-touch-startup-image-1242x2148.png"></link><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/quantumjs/resources/favicons/apple-touch-startup-image-748x1024.png"></link><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/quantumjs/resources/favicons/apple-touch-startup-image-768x1004.png"></link><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/quantumjs/resources/favicons/apple-touch-startup-image-1496x2048.png"></link><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/quantumjs/resources/favicons/apple-touch-startup-image-1536x2008.png"></link><title>Core Concepts</title><meta name="viewport" content="width=device-width, initial-scale=1"></meta></head>
<body class="qm-body-font qm-docs-sidebar-page"><div class="qm-docs-header"><div class="qm-docs-centered"><div class="qm-docs-header-wrapper"><a class="qm-docs-header-logo-link" href="/"><image class="qm-docs-header-logo" src="/quantumjs/resources/logo.svg"></image></a><div class="qm-docs-header-title qm-header-font">QuantumJS</div></div></div></div><div class="qm-docs-sidebar-page"><div class="qm-docs-sidebar"><div class="qm-docs-navigation-menu-wrapper"><div class="qm-docs-navigation-menu"><a class="qm-docs-navigation-menu-page" href="/quantumjs/">Home</a><div class="qm-docs-navigation-menu-section"><div class="qm-docs-navigation-menu-section-title">Introduction</div><div class="qm-docs-navigation-menu-section-body"><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/">Overview</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/quick-start">Quick Start</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/markup/">The Markup Language</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/core-concepts/">Core Concepts</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/cli-and-api/">Using the CLI &#x2F; API</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/quantum-vs-markdown">Quantum vs Markdown</a></div></div><div class="qm-docs-navigation-menu-section"><div class="qm-docs-navigation-menu-section-title">Core Modules</div><div class="qm-docs-navigation-menu-section-body"><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-js/">quantum-js</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-dom/">quantum-dom</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-html/">quantum-html</a></div></div><div class="qm-docs-navigation-menu-section"><div class="qm-docs-navigation-menu-section-title">Optional Modules</div><div class="qm-docs-navigation-menu-section-body"><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-api/">quantum-api</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-code-highlight/">quantum-code-highlight</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-diagram/">quantum-diagram</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-docs/">quantum-docs</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-markdown/">quantum-markdown</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-template/">quantum-template</a><a class="qm-docs-navigation-menu-page" href="/quantumjs/docs/modules/quantum-version/">quantum-version</a></div></div></div></div></div><div class="qm-docs-content-section-container"><div class="qm-docs-top-section"><div class="qm-docs-top-section-centered qm-docs-top-section-banner"><a class="qm-docs-top-section-source" href="https://github.com/ocadotechnology/quantumjs/tree/master/docs/src/pages/docs/core-concepts.um">Edit Page</a><div class="qm-docs-top-section-title qm-header-font">Core Concepts</div><div class="qm-docs-top-section-description"><div class="qm-html-paragraph">This file explains some of the concepts used in quantumjs, including the pipeline, file transforms and entity html transforms. </div></div></div></div><div class="qm-docs-content-section"><div class="qm-docs-topic"><div class="qm-docs-anchor" id="the-pipeline"><div class="qm-docs-topic-header qm-header-font">The Pipeline<a class="qm-docs-anchor-icon" href="#the-pipeline"></a></div></div><div class="qm-docs-topic-body"><div class="qm-html-paragraph">One key feature that quantum has is the way in which it turns markup into html. It uses a chain of functions to apply various transforms to get the output in the right format before turning it into html. Taking this approach allows multiple useful features to be added on top of the basic markup language (versioning, automatic table of contents generation, templating logic and more). </div><div class="qm-html-paragraph"><label>A typical pipeline for turning quantum markup into html</label> </div><div class="qm-html-paragraph"> </div></div></div><div class="qm-docs-topic"><div class="qm-docs-anchor" id="file-transforms"><div class="qm-docs-topic-header qm-header-font">File Transforms<a class="qm-docs-anchor-icon" href="#file-transforms"></a></div></div><div class="qm-docs-topic-body"><div class="qm-html-paragraph">A  <b>file transform</b>  lets you  <b>alter the parsed AST</b>  of an entire file before it is rendered out to HTML. A file transform is simply a function. </div><div class="qm-html-paragraph">Here is a file transform that does absolutely nothing: </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identityTransform</span> (<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">return</span> file
}</code></pre></div> </div><div class="qm-html-paragraph">A  <b>file transform</b>  is a function that takes a  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a></span></span> , modifies it and returns the modified  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a></span></span>  (or an array of  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a></span></span>  objects) </div><div class="qm-html-paragraph"><div class="qm-docs-section"><div class="qm-docs-anchor" id="file-transform-api"><div class="qm-docs-section-header qm-header-font">File Transform Api<a class="qm-docs-anchor-icon" href="#file-transform-api"></a></div></div><div class="qm-docs-section-body"><div class="qm-html-paragraph"><div class="qm-api"><div class="qm-api-groups"><div class="qm-api-group"><div class="qm-api-group-header qm-header-font"></div><div class="qm-api-group-content"><div class="qm-api-item qm-api-javascript-function qm-api-collapsible-open"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-function"><span class="qm-api-javascript-header-function-signature qm-api-header-details qm-code-font" id="filetransform"><span class="qm-api-javascript-header-function-name">FileTransform</span><span class="qm-api-javascript-header-function-params"><span class="qm-api-javascript-header-function-param"><span class="qm-api-javascript-header-function-param-name">file</span><span class="qm-api-javascript-header-function-param-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a></span></span></span></span><span class="qm-api-javascript-header-function-returns"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a> / <a class="qm-api-type-link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>[<a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a>]</span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">A function that takes a file and returns a new file with a transformation applied. This transfomation can be anything - from converting quantum-ast to html, or a transformation that replaces variables in the markup with values from template. </div></div><div class="qm-api-extras"><div class="qm-api-extra"><div class="qm-html-paragraph"><div class="docs-example"><div class="docs-example-heading qm-header-font">Example</div><div class="docs-example-code"><div class="docs-example-code-body"><div class="docs-example-code-section"><div class="docs-example-code-heading">Javascript</div><div class="docs-example-code-block"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)

<span class="hljs-comment">// The htmlRenamer from 'quantum-html'</span>
<span class="hljs-comment">// renames name.html to name/index.html and leaves index.html as it is</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlRenamer</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (path.extname(file.info.dest) === <span class="hljs-string">'.html'</span>) {
      <span class="hljs-keyword">const</span> filenameWithoutExtension = path.basename(file.info.dest).replace(<span class="hljs-string">'.html'</span>, <span class="hljs-string">''</span>)
      <span class="hljs-keyword">const</span> rootPath = path.dirname(file.info.dest)
      <span class="hljs-keyword">return</span> file.clone({
        <span class="hljs-attr">info</span>: file.info.clone({
          <span class="hljs-attr">dest</span>: filenameWithoutExtension === <span class="hljs-string">'index'</span> ? file.info.dest : path.join(rootPath, filenameWithoutExtension, <span class="hljs-string">'index.html'</span>)
        })
      })
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> file
    }
  }
}</code></pre></div></div></div></div></div></div> </div></div></div><div class="qm-api-group qm-api-param-group"><div class="qm-api-group-header qm-api-param-group-header qm-header-font">Arguments</div><div class="qm-api-item qm-api-javascript-param qm-api-collapsible"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-property"><span class="qm-api-javascript-header-property qm-api-header-details qm-code-font" id="file"><span class="qm-api-javascript-header-property-name">file</span><span class="qm-api-javascript-header-property-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a></span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description">The file to transform</div></div></div></div></div><div class="qm-api-group qm-api-returns-group"><div class="qm-api-group-header qm-api-returns-group-header qm-header-font">Returns</div><div class="qm-api-item qm-api-javascript-returns qm-api-collapsible"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-type"><span class="qm-api-javascript-header-type qm-api-header-details qm-code-font" id="file/array[file]"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a> / <a class="qm-api-type-link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>[<a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#file">File</a>]</span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description">The transformed file</div></div></div></div></div></div></div></div></div></div></div></div> </div></div></div> </div></div></div><div class="qm-docs-topic"><div class="qm-docs-anchor" id="entities"><div class="qm-docs-topic-header qm-header-font">Entities<a class="qm-docs-anchor-icon" href="#entities"></a></div></div><div class="qm-docs-topic-body"><div class="qm-html-paragraph">An entity looks like this in markup: </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-um"><pre><code class="qm-code-font"><span class="hljs-keyword">@type<span class="hljs-attr"> param1 param2</span></span>: Content</code></pre></div> </div><div class="qm-html-paragraph">The  <code class="qm-code-highlight-code qm-code-font">@</code>  denotes the start of a new entity. </div><div class="qm-html-paragraph">When parsed it looks like this: </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'type'</span>,
  <span class="hljs-attr">params</span>: [<span class="hljs-string">'param1'</span>, <span class="hljs-string">'param2'</span>],
  <span class="hljs-attr">content</span>: [<span class="hljs-string">'Content'</span>]
}</code></pre></div> </div></div></div><div class="qm-docs-topic"><div class="qm-docs-anchor" id="entity-transforms"><div class="qm-docs-topic-header qm-header-font">Entity Transforms<a class="qm-docs-anchor-icon" href="#entity-transforms"></a></div></div><div class="qm-docs-topic-body"><div class="qm-html-paragraph"><b>Entity transforms</b>  convert an entity from AST to virtual dom. An entity transform is just a function. </div><div class="qm-html-paragraph">Here&#39;s an example entity transform: </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-keyword">const</span> dom = <span class="hljs-built_in">require</span>(<span class="hljs-string">'quantum-dom'</span>)
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notice</span> (<span class="hljs-params">selection, transformer</span>) </span>{
  <span class="hljs-keyword">return</span> dom.create(<span class="hljs-string">'div'</span>).class(<span class="hljs-string">'notice'</span>)
    .add(dom.create(<span class="hljs-string">'div'</span>).class(<span class="hljs-string">'notice-header'</span>).text(selection.ps()))
    .add(dom.create(<span class="hljs-string">'div'</span>).class(<span class="hljs-string">'notice-body'</span>).add(selection.cs()))
}</code></pre></div> </div><div class="qm-html-paragraph">This would convert the following markup: </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-um"><pre><code class="qm-code-font"><span class="hljs-keyword">@notice<span class="hljs-attr"> Warning</span></span>: There is something you should know</code></pre></div> </div><div class="qm-html-paragraph">into </div><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-html"><pre><code class="qm-code-font"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"notice"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"notice-header"</span>&gt;</span>Warning<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"notice-body"</span>&gt;</span>There is something you should know<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div> </div><div class="qm-html-paragraph"><div class="qm-docs-section"><div class="qm-docs-anchor" id="entity-transform-api"><div class="qm-docs-section-header qm-header-font">Entity Transform API<a class="qm-docs-anchor-icon" href="#entity-transform-api"></a></div></div><div class="qm-docs-section-body"><div class="qm-html-paragraph"><div class="qm-api"><div class="qm-api-groups"><div class="qm-api-group"><div class="qm-api-group-header qm-header-font"></div><div class="qm-api-group-content"><div class="qm-api-item qm-api-javascript-function qm-api-collapsible-open"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-function"><span class="qm-api-javascript-header-function-signature qm-api-header-details qm-code-font" id="entitytransform"><span class="qm-api-javascript-header-function-name">EntityTransform</span><span class="qm-api-javascript-header-function-params"><span class="qm-api-javascript-header-function-param"><span class="qm-api-javascript-header-function-param-name">selection</span><span class="qm-api-javascript-header-function-param-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span></span><span class="qm-api-javascript-header-function-param"><span class="qm-api-javascript-header-function-param-name">transformer</span><span class="qm-api-javascript-header-function-param-type"><span class="qm-api-type"><a class="qm-api-type-link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a></span></span></span><span class="qm-api-javascript-header-function-param qm-api-optional"><span class="qm-api-javascript-header-function-param-name">meta</span><span class="qm-api-javascript-header-function-param-type"><span class="qm-api-type"><a class="qm-api-type-link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></span></span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">A function that takes a  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span>  and converts it to a dom  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-dom/#element">Element</a></span></span> </div></div><div class="qm-api-group qm-api-param-group"><div class="qm-api-group-header qm-api-param-group-header qm-header-font">Arguments</div><div class="qm-api-item qm-api-javascript-param qm-api-collapsible-open"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-property"><span class="qm-api-javascript-header-property qm-api-header-details qm-code-font" id="selection"><span class="qm-api-javascript-header-property-name">selection</span><span class="qm-api-javascript-header-property-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">The  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span>  to transform. </div></div></div></div></div><div class="qm-api-item qm-api-javascript-param qm-api-collapsible-open"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-function"><span class="qm-api-javascript-header-function-signature qm-api-header-details qm-code-font" id="transformer"><span class="qm-api-javascript-header-function-name">transformer</span><span class="qm-api-javascript-header-function-params"><span class="qm-api-javascript-header-function-param"><span class="qm-api-javascript-header-function-param-name">selection</span><span class="qm-api-javascript-header-function-param-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span></span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">The transformer created in the  <a href="/quantumjs/docs/modules/quantum-html/#builddom">buildDOM</a>  function. </div><div class="qm-html-paragraph">It is bootstrapped to itself to allow children to be transformed. </div></div><div class="qm-api-extras"><div class="qm-api-extra"><div class="qm-html-paragraph"><div class="qm-docs-subsection"><div class="qm-docs-subsection-header qm-header-font">Example</div><div class="qm-docs-subsection-body"><div class="qm-html-paragraph"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customTransform</span> (<span class="hljs-params">selection, transformer</span>) </span>{
  <span class="hljs-keyword">return</span> dom.create(<span class="hljs-string">'div'</span>).class(<span class="hljs-string">'custom-class'</span>)
    <span class="hljs-comment">// Transform the content of the selection</span>
    .add(selection.transform(transformer))
}</code></pre></div> </div></div></div> </div></div></div><div class="qm-api-group qm-api-param-group"><div class="qm-api-group-header qm-api-param-group-header qm-header-font">Arguments</div><div class="qm-api-item qm-api-javascript-param qm-api-collapsible"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head"><div class="qm-api-item-header qm-api-item-header-property"><span class="qm-api-javascript-header-property qm-api-header-details qm-code-font" id="selection"><span class="qm-api-javascript-header-property-name">selection</span><span class="qm-api-javascript-header-property-type"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">The  <span class="qm-api-type-standalone qm-code-font"><span class="qm-api-type"><a class="qm-api-type-link" href="/quantumjs/docs/modules/quantum-js/#selection">Selection</a></span></span>  to transform. </div></div></div></div></div></div></div></div></div><div class="qm-api-item qm-api-javascript-param qm-api-collapsible-open"><div class="qm-api-collapsible-heading"><div class="qm-api-collapsible-toggle"><i class="qm-api-chevron-icon"></i></div><div class="qm-api-collapsible-head"><div class="qm-api-item-head qm-api-optional"><div class="qm-api-item-header qm-api-item-header-object"><span class="qm-api-javascript-header-object qm-api-header-details qm-code-font" id="meta"><span class="qm-api-javascript-header-object-name">meta</span></span><span class="qm-api-header-tags"></span></div></div></div></div><div class="qm-api-collapsible-content"><div class="qm-api-item-content"><div class="qm-api-description"><div class="qm-html-paragraph">The meta object as defined in  <a href="/quantumjs/docs/modules/quantum-html/#builddom">buildDOM</a>  options. This should only be used in custom transforms. </div></div></div></div></div></div></div></div></div></div></div></div></div> </div></div></div> </div><div class="qm-html-paragraph"><div class="qm-docs-section"><div class="qm-docs-anchor" id="custom-entity-transform-example"><div class="qm-docs-section-header qm-header-font">Custom Entity Transform Example<a class="qm-docs-anchor-icon" href="#custom-entity-transform-example"></a></div></div><div class="qm-docs-section-body"><div class="qm-html-paragraph">The following shows a full example of how to create a custom entity transform using the  <code class="qm-code-highlight-code qm-code-font">quantum-dom</code>  and  <code class="qm-code-highlight-code qm-code-font">quantum-html</code>  modules: </div><div class="qm-html-paragraph"><div class="docs-example"><div class="docs-example-heading qm-header-font">Example Markup</div><div class="docs-example-code"><div class="docs-example-code-body"><div class="docs-example-code-section"><div class="docs-example-code-heading">custom.js (Javascript)</div><div class="docs-example-code-block"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-keyword">const</span> dom = <span class="hljs-built_in">require</span>(<span class="hljs-string">'quantum-dom'</span>)

<span class="hljs-comment">// creates a sign in block for the @signIn entity</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signIn</span> (<span class="hljs-params">selection</span>) </span>{
  <span class="hljs-keyword">return</span> dom.create(<span class="hljs-string">'div'</span>).class(<span class="hljs-string">'sign-in'</span>)
    .add(dom.create(<span class="hljs-string">'input'</span>).class(<span class="hljs-string">'username-input'</span>))
    .add(dom.create(<span class="hljs-string">'input'</span>).class(<span class="hljs-string">'password-input'</span>))
    .add(dom.create(<span class="hljs-string">'button'</span>).class(<span class="hljs-string">'sign-in-button'</span>).text(<span class="hljs-string">'Sign in'</span>))
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transforms</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.freeze({
    signIn
  })
}

<span class="hljs-built_in">module</span>.exports = {
  transforms
}</code></pre></div></div></div></div><div class="docs-example-code-body"><div class="docs-example-code-section"><div class="docs-example-code-heading">quantum.config.js (Javascript)</div><div class="docs-example-code-block"><div class="qm-code-highlight-codeblock language-js"><pre><code class="qm-code-font"><span class="hljs-keyword">const</span> custom = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./custom.js'</span>)
<span class="hljs-keyword">const</span> html = <span class="hljs-built_in">require</span>(<span class="hljs-string">'quantum-html'</span>)

<span class="hljs-keyword">const</span> htmlOptions = {
  <span class="hljs-attr">transforms</span>: {
    <span class="hljs-attr">custom</span>: custom.transforms()
  }
}

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">pipeline</span>: [
    html(htmlOptions)
  ],
  <span class="hljs-attr">pages</span>: <span class="hljs-string">'index.um'</span>
}</code></pre></div></div></div></div><div class="docs-example-code-body"><div class="docs-example-code-section"><div class="docs-example-code-heading">index.um (Quantum)</div><div class="docs-example-code-block"><div class="qm-code-highlight-codeblock language-um"><pre><code class="qm-code-font"><span class="hljs-keyword">@signIn</span></code></pre></div></div></div></div></div><div class="docs-example-heading qm-header-font">Example Result</div><div class="docs-example-body"><div class="docs-example-body-section">Calling <code class="qm-code-highlight-code qm-code-font">quantum build</code> would render the <code class="qm-code-highlight-code qm-code-font">index.um</code> pageand output to <b>target/index.html</b><div class="qm-code-highlight-codeblock language-html"><pre><code class="qm-code-font"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">meta</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"qm-body-font"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- the result of the @signIn transform --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sign-in"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"username-input"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"password-input"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"sign-in-button"</span>&gt;</span>Sign in<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div></div></div></div> </div></div></div> </div><div class="qm-html-paragraph"><div class="qm-docs-topic"><div class="qm-docs-anchor" id="the-ast-(abstract-syntax-tree)"><div class="qm-docs-topic-header qm-header-font">The AST (abstract syntax tree)<a class="qm-docs-anchor-icon" href="#the-ast-(abstract-syntax-tree)"></a></div></div><div class="qm-docs-topic-body"><div class="qm-html-paragraph">Parsing is the process of turning the markup text into objects that can be more easily manipulated. The quantum markup language is designed to be easy to work with once parsed. </div><div class="qm-html-paragraph">This is what the markup on the  <a href="/quantumjs/docs/markup/">Markup</a>  file looks like when parsed into AST. </div><div class="qm-html-paragraph"><div class="qm-docs-notice"><div class="qm-docs-notice-header qm-header-font">TODO</div><div class="qm-docs-notice-body"><div class="qm-html-paragraph">XXX: Add easy to read example </div></div></div> </div><div class="qm-html-paragraph"><div class="qm-docs-notice"><div class="qm-docs-notice-header qm-header-font">Note</div><div class="qm-docs-notice-body"><div class="qm-html-paragraph">There are some helper apis for working with the parsed AST. See the  <a href="/quantumjs/docs/modules/quantum-js/#selection-api">quantum-js</a>  module docs for more information. </div></div></div> </div></div></div> </div></div></div></div></div></div><script src="/quantumjs/resources/quantum-docs.js"></script><script src="/quantumjs/resources/quantum-api.js"></script></body></html>